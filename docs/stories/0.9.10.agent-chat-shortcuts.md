# Story 0.9.10: Agent chat shortcuts

## Status
Draft

## Dependencies

- 0.9.6 Policy and docs
- 0.9.7 Guardrails and quality gates
- Docs: `AGENTS.md`, `.bmad-core/core-config.yaml`, `docs/dev-qa-status-flow.md`

## Story

As a contributor using BMad personas, I want concise chat shortcut commands to trigger persona actions for a specific story (e.g., develop or review), so that I can work faster with deterministic, documented behavior that aligns with repo guardrails and status flow.

## Acceptance Criteria

1. `AGENTS.md` documents a "Chat shortcuts" section with a canonical format: `<persona> *<command> [<label>](<path>) [options]`.
2. Shortcuts support at minimum:
   - Dev: `*develop`, `*validate`, `*status`, `*open-pr`
   - QA: `*review`, `*validate`, `*status`
3. Parsing rules are documented and reference slug rules from `.bmad-core/core-config.yaml`:
   - Derive `<id>` and `<slug>` from `docs/stories/<id>.<slug>.md`.
   - If only `<id>` given, auto-locate `docs/stories/<id>.*.md` (prefer longest match).
   - Slug normalization: lowercase, spaces→`-`, allowed `[a-z0-9-]`.
4. Expected behavior is clearly mapped:
   - `dev *develop [<file>](docs/stories/<id>.<slug>.md)` → switch/create `story/<id>-<slug>`, set Status: InProgress, implement, then run local gates in `crypto_market`.
   - `qa *review [<file>](docs/stories/<id>.<slug>.md)` → read ACs, run local gates, update `## QA Results`, set Status: Done or InProgress with reasons.
   - `*validate` runs: `dart format --output=none --set-exit-if-changed .`, `flutter analyze --fatal-infos --fatal-warnings`, `flutter test --no-pub` inside `crypto_market`.
5. Examples in `AGENTS.md` include at least the two target cases:
   - `dev *develop [1.2.profile-and-reputation.md](docs/stories/1.2.profile-and-reputation.md)`
   - `qa *review [1.2.profile-and-reputation.md](docs/stories/1.2.profile-and-reputation.md)`
6. Documentation aligns with guardrails: no external network during agent runs; no secrets in logs; PR base is `develop`.

## Tasks / Subtasks

- [x] Update `AGENTS.md` with a dedicated "Chat shortcuts" section including format, parsing rules, expected behavior, and examples.
- [ ] (Optional) Add a helper script `scripts/story-from-file.sh` to output `story/<id>-<slug>` given `docs/stories/<id>.<slug>.md`.
- [ ] (Optional) Reference the shortcuts in `docs/dev-qa-status-flow.md` for discoverability.

## Testing

- Verify `AGENTS.md` contains the Chat shortcuts section with the documented format, rules, and examples.
- Run local gates to ensure documentation changes keep CI parity:
  - `cd crypto_market && dart format --output=none --set-exit-if-changed .`
  - `flutter analyze --fatal-infos --fatal-warnings`
  - `flutter test --no-pub`
- Confirm the examples use valid, existing story files and the derived branch name matches `.bmad-core/core-config.yaml` rules.

## Change Log

| Date | Version | Description | Author |
| ---- | ------- | ----------- | ------ |
| YYYY-MM-DD | 0.1 | Initial draft | Scrum Master |

## Dev Agent Record

- Implemented:
  - Added Chat shortcuts section to `AGENTS.md` with examples and parsing/behavior mapping.
- Pending:
  - Optional helper script to derive branch from story file.
  - Optional cross-link in `docs/dev-qa-status-flow.md`.
- File List:
  - `AGENTS.md` (updated)

## QA Results

_TBD_

