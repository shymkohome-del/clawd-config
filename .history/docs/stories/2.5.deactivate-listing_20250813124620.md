# Story 2.5: Deactivate listing

## Status
Draft

## Dependencies

- 2.1 Create listing

## Story

As a seller, I want to deactivate my listing so it no longer appears in search while keeping the record.

## Acceptance Criteria

1. Given I am the seller, when I deactivate, then the status becomes `cancelled` or `inactive` and it is excluded from search. [Source: architecture/api-specification.md#listing-types]
2. Given a deactivated listing, when I view my listings, then itâ€™s clearly marked inactive. [Source: prd/4-functional-requirements.md#42-trading-functions]

### BDD Scenarios

- Scenario: Deactivate listing
  - Given I own the listing
  - When I toggle Deactivate
  - Then status updates and listing disappears from search

## Tasks / Subtasks

- [ ] Frontend: Deactivate control (AC: 1)
  - [ ] Add control on listing detail/manage screen. [Source: architecture/frontend-architecture.md#flutter-app-structure]

- [ ] Service integration (AC: 1)
  - [ ] Call `updateListing` to set status to cancelled/inactive. [Source: architecture/api-specification.md#marketplace-canister]

- [ ] Backend (AC: 1)
  - [ ] Enforce ownership and update indexes to exclude from search. [Source: architecture/backend-architecture.md#canister-based-service-architecture]

## Change Log

| Date | Version | Description | Author |
| ---- | ------- | ----------- | ------ |
| YYYY-MM-DD | 0.1 | Initial draft created for Story 2.5 | Scrum Master |


